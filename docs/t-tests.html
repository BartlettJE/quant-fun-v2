<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 10 t-tests | Fundamentals of Quantitative Analysis</title>
<meta name="author" content="Emily Nordmann &amp; Phil McAleer">
<meta name="description" content="Two-sample designs are very common as often we want to know whether there is a difference between groups on a particular variable. There are different types of two-sample designs depending on...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 10 t-tests | Fundamentals of Quantitative Analysis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://psyteachr.github.io/quant-fun-v2/t-tests.html">
<meta property="og:image" content="https://psyteachr.github.io/quant-fun-v2/images/logos/logo.png">
<meta property="og:description" content="Two-sample designs are very common as often we want to know whether there is a difference between groups on a particular variable. There are different types of two-sample designs depending on...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 10 t-tests | Fundamentals of Quantitative Analysis">
<meta name="twitter:description" content="Two-sample designs are very common as often we want to know whether there is a difference between groups on a particular variable. There are different types of two-sample designs depending on...">
<meta name="twitter:image" content="https://psyteachr.github.io/quant-fun-v2/images/logos/logo.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NP3MF25W3"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6NP3MF25W3');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Fundamentals of Quantitative Analysis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Overview</a></li>
<li><a class="" href="foreword.html">Foreword</a></li>
<li><a class="" href="programming-basics.html"><span class="header-section-number">1</span> Programming basics</a></li>
<li><a class="" href="intro-to-r.html"><span class="header-section-number">2</span> Intro to R</a></li>
<li><a class="" href="starting-with-data.html"><span class="header-section-number">3</span> Starting with data</a></li>
<li><a class="" href="data-wrangling-1.html"><span class="header-section-number">4</span> Data wrangling 1</a></li>
<li><a class="" href="data-wrangling-2.html"><span class="header-section-number">5</span> Data wrangling 2</a></li>
<li><a class="" href="data-wrangling-3.html"><span class="header-section-number">6</span> Data Wrangling 3</a></li>
<li><a class="" href="intro-to-data-visualisation.html"><span class="header-section-number">7</span> Intro to Data Visualisation</a></li>
<li><a class="" href="probability.html"><span class="header-section-number">8</span> Probability</a></li>
<li><a class="" href="correlations.html"><span class="header-section-number">9</span> Correlations</a></li>
<li><a class="active" href="t-tests.html"><span class="header-section-number">10</span> t-tests</a></li>
<li><a class="" href="power-and-error.html"><span class="header-section-number">11</span> Power and error</a></li>
<li><a class="" href="screening-data.html"><span class="header-section-number">12</span> Screening Data</a></li>
<li><a class="" href="visualisation.html"><span class="header-section-number">13</span> Visualisation</a></li>
<li><a class="" href="one-way-anova.html"><span class="header-section-number">14</span> One-way ANOVA</a></li>
<li><a class="" href="factorial-anova.html"><span class="header-section-number">15</span> Factorial ANOVA</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">16</span> Regression</a></li>
<li><a class="" href="multiple-regression.html"><span class="header-section-number">17</span> Multiple regression</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="installing-r.html"><span class="header-section-number">A</span> Installing R</a></li>
<li><a class="" href="updating-packages.html"><span class="header-section-number">B</span> Updating packages</a></li>
<li><a class="" href="additional-resources.html"><span class="header-section-number">C</span> Additional Resources</a></li>
<li><a class="" href="citing-r-rstudio.html"><span class="header-section-number">D</span> Citing R and RStudio</a></li>
<li><a class="" href="symbols.html"><span class="header-section-number">E</span> Symbols</a></li>
<li><a class="" href="conventions.html"><span class="header-section-number">F</span> Conventions</a></li>
<li><a class="" href="license.html">License</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/PsyTeachR/quant-fun-v2">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="t-tests" class="section level1" number="10">
<h1>
<span class="header-section-number">10</span> t-tests<a class="anchor" aria-label="anchor" href="#t-tests"><i class="fas fa-link"></i></a>
</h1>
<p>Two-sample designs are very common as often we want to know whether there is a difference between groups on a particular variable. There are different types of two-sample designs depending on whether or not the two groups are independent (e.g. different participants on different conditions) or not (e.g. same participants on different conditions). In this lab we will perform one test of each type.</p>
<div class="try">
<p>
One of the really confusing things about research design is that there are many names for the same type of design.
</p>
<ul>
<li>
Independent and between-subjects design typically mean the same thing - different participants in different conditions
</li>
<li>
Within-subjects, dependent, paired samples, and repeated-measures tend to mean the same participants in all conditions
</li>
<li>
Matched pairs design means different people in different conditions but you have matched participants across the conditions so that they are effectively the same person (e.g. age, IQ, Social Economic Status, etc)
</li>
<li>
Mixed design is when there is a combination of within-subjects and between-subjects designs in the one experiment. For example, say you are looking at attractiveness and dominance of male and female faces. Everyone might see both male and female faces (within) but half of the participants do ratings of attractiveness and half do ratings of trustworthiness (between).
</li>
</ul>
</div>
<p>For the independent t-test we will be using data from Schroeder and Epley (2015). You can take a look at the Psychological Science article here:</p>
<p><a href="https://doi.org/10.1177/0956797615572906">Schroeder, J. and Epley, N. (2015). The sound of intellect: Speech reveals a thoughtful mind, increasing a job candidate's appeal. Psychological Science, 26, 277--891.</a></p>
<p>The abstract from this article explains more about the different experiments conducted (we will be specifically looking at the dataset from Experiment 4, courtesy of the <a href="https://sites.trinity.edu/osl/data-sets-and-activities/t-test-activities">Open Stats Lab</a>:</p>
<blockquote>
<p>A person's mental capacities, such as intellect, cannot be observed directly and so are instead inferred from indirect cues. We predicted that a person's intellect would be conveyed most strongly through a cue closely tied to actual thinking: his or her voice. Hypothetical employers (Experiments 1-3b) and professional recruiters (Experiment 4) watched, listened to, or read job candidates' pitches about why they should be hired. These evaluators (the employers) rated a candidate as more competent, thoughtful, and intelligent when they heard a pitch rather than read it and, as a result, had a more favourable impression of the candidate and were more interested in hiring the candidate. Adding voice to written pitches, by having trained actors (Experiment 3a) or untrained adults (Experiment 3b) read them, produced the same results. Adding visual cues to audio pitches did not alter evaluations of the candidates. For conveying one's intellect, it is important that one's voice, quite literally, be heard.</p>
</blockquote>
<p>To summarise, 39 professional recruiters from Fortune 500 companies evaluated job pitches of M.B.A. candidates from the University of Chicago Booth School of Business. The methods and results appear on pages 887--889 of the article if you want to look at them specifically for more details. The original data, in <strong>wide</strong> format, can be found at the <a href="https://drive.google.com/open?id=0Bz-rhZ21ShvOei1MM24xNndnQ00">Open Stats Lab</a> website for later self-directed learning. Today however, we will be working with a modified version in "tidy" format which can be downloaded from Moodle.</p>
<div id="ttest-a1" class="section level2" number="10.1">
<h2>
<span class="header-section-number">10.1</span> Activity 1: Set-up<a class="anchor" aria-label="anchor" href="#ttest-a1"><i class="fas fa-link"></i></a>
</h2>
<p>Your task is to reproduce the results from the article (p. 887).</p>
<ul>
<li>Open R Studio and set the working directory to your chapter folder. Ensure the environment is clear.<br>
</li>
<li>Open a new R Markdown document and save it in your working directory. Call the file "t-tests".<br>
</li>
<li>Download <a href="evaluators.csv" download>evaluators.csv</a> and <a href="ratings.csv" download>ratings.csv</a> and save them in your t-test folder. Make sure that you do not change the file names at all.<br>
</li>
<li>If you're on the server, avoid a number of issues by restarting the session - click <code>Session</code> - <code>Restart R</code>
</li>
<li>Delete the default R Markdown welcome text and insert a new code chunk that loads <code>broom</code>, <code>car</code>, <code>effectsize</code>, <code>report</code> and <code>tidyverse</code> using the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function and loads the data into an object named <code>evaluators</code> using <code>read_csv()</code>. You may need to install some of these packages if you don't already have them.</li>
</ul>
</div>
<div id="ttest-a2" class="section level2" number="10.2">
<h2>
<span class="header-section-number">10.2</span> Activity 2: Explore the dataset<a class="anchor" aria-label="anchor" href="#ttest-a2"><i class="fas fa-link"></i></a>
</h2>
<p>There are a few things we should do to explore the dataset and make working with it a bit easier.</p>
<ul>
<li>Use <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> and <code><a href="https://rdrr.io/pkg/car/man/recode.html">recode()</a></code> to recode <code>sex</code> into a new variable <code>sex_labels</code> so that <code>1</code> = <code>male</code> and <code>2</code> = <code>female</code>. Be careful - there are multiple functions in different packages called recode, make sure to specify <code><a href="https://dplyr.tidyverse.org/reference/recode.html">dplyr::recode()</a></code> to get the right one.</li>
<li>Use <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> and <code><a href="https://rdrr.io/r/base/factor.html">as.factor()</a></code> to overwrite <code>sex_labels</code> and <code>condition</code> as factors.<br>
</li>
<li>Use <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> to get an overview of the missing data points in each variable.</li>
</ul>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">evaluators</span> <span class="op">&lt;-</span> <span class="va">evaluators</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>sex_labels <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html">recode</a></span><span class="op">(</span><span class="va">sex</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"male"</span>, <span class="st">"2"</span> <span class="op">=</span> <span class="st">"female"</span><span class="op">)</span>,
         sex_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">sex_labels</span><span class="op">)</span>,
         condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">condition</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<ul>
<li>How many participants were noted as being female: <input class="webex-solveme nospaces" size="2" data-answer='["30"]'>
</li>
<li>How many participants were noted as being male: <input class="webex-solveme nospaces" size="1" data-answer='["4"]'>
</li>
<li>How many data points are missing for <code>sex</code>? <input class="webex-solveme nospaces" size="1" data-answer='["5"]'>
</li>
</ul>
</div>
<div id="ttest-a3" class="section level2" number="10.3">
<h2>
<span class="header-section-number">10.3</span> Activity 3: Ratings<a class="anchor" aria-label="anchor" href="#ttest-a3"><i class="fas fa-link"></i></a>
</h2>
<p>We are now going calculate an overall intellect rating given by each evaluator - how intellectual the evaluators thought candidates were overall depending on whether or not the evaluators <strong>read</strong> or <strong>listened</strong> to the candidates' resume pitches. This is calculated by averaging the ratings of <code>competent</code>, <code>thoughtful</code> and <code>intelligent</code> for each evaluator; held within <code>ratings.csv</code>. <strong>Note:</strong> we are not looking at ratings to individual candidates; we are looking at overall ratings for each evaluator. This is a bit confusing but makes sense if you stop to think about it a little.</p>
<p>We will then combine the overall intellect rating with the overall impression ratings and overall hire ratings for each evaluator, with the end goal of having a tibble called <code>ratings2</code> - which has the following structure:</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">eval_id</th>
<th align="left">Category</th>
<th align="right">Rating</th>
<th align="left">condition</th>
<th align="left">sex_labels</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">hire</td>
<td align="right">6.000</td>
<td align="left">listened</td>
<td align="left">female</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">impression</td>
<td align="right">7.000</td>
<td align="left">listened</td>
<td align="left">female</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">intellect</td>
<td align="right">6.000</td>
<td align="left">listened</td>
<td align="left">female</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">hire</td>
<td align="right">4.000</td>
<td align="left">listened</td>
<td align="left">female</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">impression</td>
<td align="right">4.667</td>
<td align="left">listened</td>
<td align="left">female</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">intellect</td>
<td align="right">5.667</td>
<td align="left">listened</td>
<td align="left">female</td>
</tr>
</tbody>
</table></div>
<p>The following steps describe how to create the above tibble - if you're feeling comfortable with R, try yourself without using our code. The trick when doing data analysis and data wrangling is to first think about what you want to achieve - the end goal - and then think about what functions you need to use to get there.</p>
<p>Steps 1-3 calculate the new <code>intellect</code> rating. Steps 4 and 5 combine this rating to all other information.</p>
<ol style="list-style-type: decimal">
<li><p>Load the data found in <code>ratings.csv</code> into a tibble called <code>ratings</code>.</p></li>
<li><p><code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> only the relevant variables (<strong>thoughtful</strong>, <strong>competent</strong>, <strong>intelligent</strong>) into a new tibble (call it what you like - we use <code>iratings</code>), and calculate a mean <code>Rating</code> for each evaluator.</p></li>
<li><p>Add on a new column called <code>Category</code> where every entry is the word <code>intellect</code>. This tells us that every number in this tibble is an intellect rating.</p></li>
<li><p>Now create a new tibble called <code>ratings2</code> and filter into it just the "impression" and "hire" ratings from the original <code>ratings</code> tibble. Next, bind this tibble with the tibble you created in step 3 to bring together the intellect, impression, and hire ratings, in <code>ratings2</code>.</p></li>
<li><p>Join <code>ratings2</code> with the <code>evaluator</code> tibble that we created in Task 1. Keep only the necessary columns as shown above and arrange by Evaluator and Category.</p></li>
</ol>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 1. load in the data</span>
<span class="va">ratings</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"ratings.csv"</span><span class="op">)</span>

<span class="co"># 2. first step: pull out the ratings associated with intellect</span>
<span class="va">iratings</span> <span class="op">&lt;-</span> <span class="va">ratings</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Category</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"competent"</span>, <span class="st">"thoughtful"</span>, <span class="st">"intelligent"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># second step: calculate means for each evaluator</span>
<span class="va">imeans</span> <span class="op">&lt;-</span> <span class="va">iratings</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">eval_id</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>Rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Rating</span><span class="op">)</span><span class="op">)</span>

<span class="co"># 3. add Category variable </span>
<span class="co"># this way we can combine with 'impression' and 'hire' into a single table, very useful!</span>
<span class="va">imeans2</span> <span class="op">&lt;-</span> <span class="va">imeans</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Category <span class="op">=</span> <span class="st">"intellect"</span><span class="op">)</span>

<span class="co"># 4. &amp; 5. combine into a single table</span>
<span class="va">ratings2</span> <span class="op">&lt;-</span> <span class="va">ratings</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Category</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"impression"</span>, <span class="st">"hire"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="va">imeans2</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">evaluators</span>, <span class="st">"eval_id"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">age</span>, <span class="op">-</span><span class="va">sex</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">eval_id</span>, <span class="va">Category</span><span class="op">)</span></code></pre></div>
</div>
<div id="ttest-a4" class="section level2" number="10.4">
<h2>
<span class="header-section-number">10.4</span> Activity 4: Visualisation<a class="anchor" aria-label="anchor" href="#ttest-a4"><i class="fas fa-link"></i></a>
</h2>
<p>You should <strong>always</strong> visualise your data before you run a statistical analysis. Not only will it help you interpret the results of the test but it will give you a better understanding of the spread of your data. For comparing two means, we can take advantage of the many plotting options R provides so we don't have to settle for a boring (and more importantly, uninformative, bar plot).</p>
<p>To visualise our data we are going to create a violin-boxplot.</p>
<ul>
<li>
<code>geom_violin()</code> represents density. The fatter the plot, the more data points there are for that . The reason it is called a violin plot is because if your data are normally distributed it should look something like a violin.<br>
</li>
<li>
<code>geom_boxplot()</code> shows the median and inter-quartile range (see <a href="https://towardsdatascience.com/understanding-boxplots-5e2df7bcbd51">here</a> if you would like more information). The boxplot can also give you a good idea if the data are skewed - the median line should be in the middle of the box, if it's not, chances are the data are skewed.<br>
</li>
<li>For displaying the mean and confidence intervals, rather than calling a specified geom, we call stat_summary(). <code>fun.data</code> specifies the a summary function that gives us the summary of the data we want to plot, in this case, <code>mean_cl_normal</code> which will calculate the mean plus the upper and lower confidence interval limits. You could also specify <code>mean_se</code> here if you wanted standard error. Finally, <code>geom</code> specifies what shape or plot we want to use to display the summary, in this case we want a <code>pointrange</code> (literally a point (the mean) with a range (the CI)).</li>
</ul>
<p>Run the below code to produce the plot. It is a good idea to save code 'recipes' for tasks that you will likely want to repeat in the future. You do not need to memorise lines of code, you only need to understand how to alter examples to work with your specific data set.
* Try setting <code>trim = TRUE</code>, <code>show.legend = FALSE</code> and altering the value of <code>width</code> to see what these arguments do.</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">ratings2</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">condition</span>, y <span class="op">=</span> <span class="va">Rating</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_violin</span><span class="op">(</span>trim <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">condition</span><span class="op">)</span>, width <span class="op">=</span> <span class="fl">.2</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">stat_summary</span><span class="op">(</span>geom <span class="op">=</span> <span class="st">"pointrange"</span>, fun.data <span class="op">=</span> <span class="st">"mean_cl_normal"</span><span class="op">)</span></code></pre></div>
<ul>
<li>Look at the plot. In which condition did the evaluators give the higher ratings? <select class="webex-select"><option value="blank"></option>
<option value="answer">listened</option>
<option value="">read</option></select>
</li>
</ul>
</div>
<div id="ttest-a5" class="section level2" number="10.5">
<h2>
<span class="header-section-number">10.5</span> Activity 5: Assumptions<a class="anchor" aria-label="anchor" href="#ttest-a5"><i class="fas fa-link"></i></a>
</h2>
<p>Before we run the t-test we need to check that the data meet the assumptions for a Welch t-test.</p>
<ol style="list-style-type: decimal">
<li>The data are interval/ratio</li>
<li>The data are independent</li>
<li>The residuals are normally distributed for each group</li>
</ol>
<p>We know that 1 and 2 are true from the design of the experiment, the measures used, and by looking at the data. To test assumption 3, we can create a QQ-plot of the <strong>residuals</strong>. For a between-subject t-test the residuals are the difference between the mean of each group and each data point. E.g., if the mean of group A is 10 and a participant in group A scores 12, the residual for that participant is 2.</p>
<ul>
<li>Run the below code to calculate then plot the residuals. Based upon the plot, do the data meet the assumption of normality? <select class="webex-select"><option value="blank"></option>
<option value="answer">Yes</option>
<option value="">No</option></select>
</li>
</ul>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ratings2</span> <span class="op">&lt;-</span> <span class="va">ratings2</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">condition</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group_resid <span class="op">=</span> <span class="va">Rating</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Rating</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/car/man/qqPlot.html">qqPlot</a></span><span class="op">(</span><span class="va">ratings2</span><span class="op">$</span><span class="va">group_resid</span><span class="op">)</span></code></pre></div>
<p>We can also use a new test that will statistically test the residuals for normality, the <strong>Shapiro-Wilk</strong> test. <code>shapiro.wilk()</code> from Base R assesses if the distribution is significantly different from a normal distribution, so, if the test is significant it means your data is not normal, and if it is non-significant it means it is approximately normal.</p>
<ul>
<li>Run the below code. According to the Shapiro-Wilk test, is the data normally distributed? <select class="webex-select"><option value="blank"></option>
<option value="answer">Yes</option>
<option value="">No</option></select>
</li>
</ul>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/shapiro.test.html">shapiro.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ratings2</span><span class="op">$</span><span class="va">group_resid</span><span class="op">)</span></code></pre></div>
<div class="webex-solution">
<button>
Explain this answer
</button>
<p>The p-value is .2088 which is more than .05, the cut-off for statistical significance.</p>
</div>
<p><br></p>
<ul>
<li>Think back to the lecture. If you ran a Student's t-test instead of a Welch t-test, what would the 4th assumption be? <select class="webex-select"><option value="blank"></option>
<option value="answer">Homogeneity of variance</option>
<option value="">Homoscedascity</option>
<option value="">Nominal data</option></select><br>
</li>
<li>Why should you always use a Welch test instead of a Student t-test? <select class="webex-select"><option value="blank"></option>
<option value="">Because it rhymes with squelch which is a funny word</option>
<option value="">Because you are more likely to obtain a signifcant p-value than with Student's t-test when sample sizes and variances are equal</option>
<option value="answer">Because it performs better if sample sizes and variances are unequal and gives the same result when sample sizes and variances are equal</option></select>.</li>
</ul>
</div>
<div id="ttest-a6" class="section level2" number="10.6">
<h2>
<span class="header-section-number">10.6</span> Activity 6: Running the t-test<a class="anchor" aria-label="anchor" href="#ttest-a6"><i class="fas fa-link"></i></a>
</h2>
<p>We are going to conduct t-tests for the Intellect, Hire and Impression ratings separately; each time comparing evaluators' overall ratings for the listened group versus overall ratings for the read group to see if there was a significant difference between the two conditions: i.e. did the evaluators who <strong>listened</strong> to pitches give a significant higher or lower rating than evaluators that <strong>read</strong> pitches.</p>
<ul>
<li>First, calculate the mean and SD for each condition and category to help with reporting the descriptive statistics.</li>
</ul>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">group_means</span> <span class="op">&lt;-</span> <span class="va">ratings2</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">condition</span>, <span class="va">Category</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Rating</span><span class="op">)</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">Rating</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<ul>
<li>Next, create separate data sets for the intellect, hire, and impression data using <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code>. We have completed intellect for you.</li>
</ul>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="t-tests.html#cb180-1" aria-hidden="true" tabindex="-1"></a>intellect <span class="ot">&lt;-</span> <span class="fu">filter</span>(ratings2, Category <span class="sc">==</span> <span class="st">"intellect"</span>)</span>
<span id="cb180-2"><a href="t-tests.html#cb180-2" aria-hidden="true" tabindex="-1"></a>hire <span class="ot">&lt;-</span> </span>
<span id="cb180-3"><a href="t-tests.html#cb180-3" aria-hidden="true" tabindex="-1"></a>impression <span class="ot">&lt;-</span> </span></code></pre></div>
<p>As you may have realised by now, most of the work of statistics involves the set-up - running the tests is generally very simple. To conduct the t-test we will use <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code> from Base R. This function uses <strong>formula syntax</strong> which you also saw in <code><a href="https://rdrr.io/r/stats/cor.test.html">cor.test()</a></code>.</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/tilde.html">~</a></code> is called a tilde. It can be read as 'by'.<br>
</li>
<li>The variable on the left of the tilde is the dependent or outcome variable.</li>
<li>The variable(s) on the right of the tilde is the independent or predictor variable.<br>
</li>
<li>You can read the below code as 'run a t-test for rating score by condition'.</li>
<li>
<code>paired = FALSE</code> indicates that we do not want to run a paired-samples test and that our data is from a between-subjects design.</li>
<li>Run the below code and view the output by typing <code>intellect_t</code> in the console.</li>
</ul>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">intellect_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">Rating</span> <span class="op">~</span> <span class="va">condition</span>, 
                      paired <span class="op">=</span> <span class="cn">FALSE</span>, 
                      data <span class="op">=</span> <span class="va">intellect</span><span class="op">)</span></code></pre></div>
<p>Just like with <code><a href="https://rdrr.io/r/stats/cor.test.html">cor.test()</a></code>, the output of <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code> is a list type object which can make it harder to work with. This time, we are also going to use the function <code><a href="https://generics.r-lib.org/reference/tidy.html">tidy()</a></code> from the <code>broom</code> package to convert the output to a tidyverse format.</p>
<ul>
<li>Run the below code. You can read it as "take object intellect_t, and then tidy it".<br>
</li>
<li>View the object by clicking on <code>results_intellect</code> in the environment.</li>
</ul>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results_intellect</span> <span class="op">&lt;-</span> <span class="va">intellect_t</span> <span class="op">%&gt;%</span>
  <span class="fu">tidy</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>The output is in a nice table format that makes it easy to extract individual values but it is worth explaining what each variable means:</p>
<ul>
<li><p><code>estimate</code> is the difference between the two means</p></li>
<li><p><code>estimate1</code> is the mean of group 1<br></p></li>
<li><p><code>estimate2</code> is the mean of group 2<br></p></li>
<li><p><code>statistic</code> is the t-statistic<br></p></li>
<li><p><code>p.value</code> is the p-value<br></p></li>
<li><p><code>parameter</code> is the degrees of freedom<br></p></li>
<li><p><code>con.low</code> and <code>conf.high</code> are the confidence interval of the <code>estimate</code></p></li>
<li><p><code>method</code> is the type of test, Welch, Student, paired, or one-sample</p></li>
<li><p><code>alternative</code> is whether the test was one or two-tailed</p></li>
<li><p>Complete the code to run the t-tests for the hire and impression ratings and view the results.</p></li>
</ul>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="t-tests.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># t-tests</span></span>
<span id="cb183-2"><a href="t-tests.html#cb183-2" aria-hidden="true" tabindex="-1"></a>hire_t <span class="ot">&lt;-</span> </span>
<span id="cb183-3"><a href="t-tests.html#cb183-3" aria-hidden="true" tabindex="-1"></a>impression_t <span class="ot">&lt;-</span> </span>
<span id="cb183-4"><a href="t-tests.html#cb183-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb183-5"><a href="t-tests.html#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy the output</span></span>
<span id="cb183-6"><a href="t-tests.html#cb183-6" aria-hidden="true" tabindex="-1"></a>results_hire <span class="ot">&lt;-</span></span>
<span id="cb183-7"><a href="t-tests.html#cb183-7" aria-hidden="true" tabindex="-1"></a>results_impression <span class="ot">&lt;-</span></span></code></pre></div>
<div class="warning">
<p>
What do you do if the data don't meet the assumption of normality? There are a few options.
</p>
<ol style="list-style-type: decimal">
<li>
Transform your data to try and normalise the distribution. We won't cover this but if you'd like to know more, <a href="https://www.researchgate.net/profile/Jason_Osborne2/publication/200152356_Notes_on_the_Use_of_Data_Transformations/links/0deec5295f1eb10df8000000.pdf">this page</a> is a good start.
</li>
<li>
Use a non-parametric test. The non-parametric equivalent of the independent t-test is the Mann-Whitney and the equivalent of the paired-samples t-test is the Wilcoxon.
</li>
<li>
Do nothing. <a href="https://www.rips-irsp.com/articles/10.5334/irsp.82/">Delacre, Lakens &amp; Leys, 2017</a> argue that with a large enough sample (&gt;30), the Welch test is robust and that using a two-step process actually causes more problems than it solves.
</li>
</ol>
</div>
</div>
<div id="ttest-a7" class="section level2" number="10.7">
<h2>
<span class="header-section-number">10.7</span> Activity 7: Correcting for multiple comparisons<a class="anchor" aria-label="anchor" href="#ttest-a7"><i class="fas fa-link"></i></a>
</h2>
<p>Because we've run three t-tests we risk inflating our chances of a Type 1 errors due to familywise error. To correct for this we can apply a correction for multiple comparisons.</p>
<p>To do this first of all we need to join all the results of the t-tests
together using <code><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows()</a></code> which is one of the reasons why it was useful to <code><a href="https://generics.r-lib.org/reference/tidy.html">tidy()</a></code> the t-test ouput.</p>
<p>First, you specify all of the individual tibbles you want to join and give them a label, and then you specify what the ID column should be named.</p>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span>hire <span class="op">=</span> <span class="va">results_hire</span>, 
                     impression <span class="op">=</span> <span class="va">results_impression</span>, 
                     intellect <span class="op">=</span> <span class="va">results_intellect</span>, 
                     .id <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="8%">
<col width="7%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="8%">
<col width="18%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="center">test</th>
<th align="center">estimate</th>
<th align="center">estimate1</th>
<th align="center">estimate2</th>
<th align="center">statistic</th>
<th align="center">p.value</th>
<th align="center">parameter</th>
<th align="center">conf.low</th>
<th align="center">conf.high</th>
<th align="center">method</th>
<th align="center">alternative</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">hire</td>
<td align="center">1.825397</td>
<td align="center">4.714286</td>
<td align="center">2.888889</td>
<td align="center">2.639949</td>
<td align="center">0.0120842</td>
<td align="center">36.85591</td>
<td align="center">0.4241979</td>
<td align="center">3.226596</td>
<td align="center">Welch Two Sample t-test</td>
<td align="center">two.sided</td>
</tr>
<tr class="even">
<td align="center">impression</td>
<td align="center">1.894333</td>
<td align="center">5.968333</td>
<td align="center">4.074000</td>
<td align="center">2.817175</td>
<td align="center">0.0080329</td>
<td align="center">33.80061</td>
<td align="center">0.5275086</td>
<td align="center">3.261158</td>
<td align="center">Welch Two Sample t-test</td>
<td align="center">two.sided</td>
</tr>
<tr class="odd">
<td align="center">intellect</td>
<td align="center">1.986722</td>
<td align="center">5.635000</td>
<td align="center">3.648278</td>
<td align="center">3.478555</td>
<td align="center">0.0014210</td>
<td align="center">33.43481</td>
<td align="center">0.8253146</td>
<td align="center">3.148130</td>
<td align="center">Welch Two Sample t-test</td>
<td align="center">two.sided</td>
</tr>
</tbody>
</table></div>
<p>Now, we're going to add on a column of adjusted p-values using <code>p.adj()</code> and <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code>.</p>
<ul>
<li>Run the below code and then view the adjusted p-values. Are they larger or smaller than the original values? <select class="webex-select"><option value="blank"></option>
<option value="answer">Larger</option>
<option value="">Smaller</option></select>
</li>
</ul>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">results</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>p.adjusted <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/p.adjust.html">p.adjust</a></span><span class="op">(</span>p <span class="op">=</span> <span class="va">p.value</span>, <span class="co"># the column that contains the original p-values</span>
                               method <span class="op">=</span> <span class="st">"bonferroni"</span><span class="op">)</span><span class="op">)</span> <span class="co"># type of correction to apply</span></code></pre></div>
</div>
<div id="ttest-a8" class="section level2" number="10.8">
<h2>
<span class="header-section-number">10.8</span> Activity 8: Effect size<a class="anchor" aria-label="anchor" href="#ttest-a8"><i class="fas fa-link"></i></a>
</h2>
<p>Before we interpret and write-up the results our last task is to calculate the effect size which for a t-test is Cohen's D. To do this, we will use the function <code><a href="https://easystats.github.io/effectsize/reference/cohens_d.html">cohens_d()</a></code> from the <code>effectsize</code> package. The code is similar to the syntax for <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code>.</p>
<ul>
<li>The first argument should specify the formula, using the same syntax as <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code>, that is <code>dv ~ iv</code>.</li>
<li>
<code>pooled_sd</code> should be <code>FALSE</code> if you ran a Welch test where the variances are not assumed to be equal and <code>TRUE</code> if you ran a regular Student's t-test.</li>
<li>Run the below code and then calculate the effect sizes for hire and impression</li>
</ul>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="t-tests.html#cb186-1" aria-hidden="true" tabindex="-1"></a>intellect_d <span class="ot">&lt;-</span> <span class="fu">cohens_d</span>(Rating <span class="sc">~</span> condition, </span>
<span id="cb186-2"><a href="t-tests.html#cb186-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">pooled_sd =</span> <span class="cn">FALSE</span>, </span>
<span id="cb186-3"><a href="t-tests.html#cb186-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data =</span> intellect)</span>
<span id="cb186-4"><a href="t-tests.html#cb186-4" aria-hidden="true" tabindex="-1"></a>hire_d <span class="ot">&lt;-</span> </span>
<span id="cb186-5"><a href="t-tests.html#cb186-5" aria-hidden="true" tabindex="-1"></a>impression_d <span class="ot">&lt;-</span> </span></code></pre></div>
</div>
<div id="ttest-a9" class="section level2" number="10.9">
<h2>
<span class="header-section-number">10.9</span> Activity 9: Interpreting the results<a class="anchor" aria-label="anchor" href="#ttest-a9"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<p>Were your results for <code>hire</code> significant? Enter the mean estimates and t-test results (means and t-value to 2 decimal places, p-value to 3 decimal places). Use the adjusted p-values:</p>
<ul>
<li><p>Mean <code>estimate1</code> (listened condition) = <input class="webex-solveme nospaces" size="4" data-answer='["4.71"]'></p></li>
<li><p>Mean <code>estimate2</code> (read condition) = <input class="webex-solveme nospaces" size="4" data-answer='["2.89"]'></p></li>
<li><p>t(<input class="webex-solveme nospaces" size="5" data-answer='["36.86"]'>) = <input class="webex-solveme nospaces" size="4" data-answer='["2.64"]'>, p = <input class="webex-solveme nospaces" size="5" data-answer='["0.036",".036"]'></p></li>
</ul>
</li>
<li>
<p>Were your results for <code>impression</code> significant? Enter the mean estimates and t-test results (means and t-value to 2 decimal places, p-value to 3 decimal places):</p>
<ul>
<li><p>Mean<code>estimate1</code> (listened condition) = <input class="webex-solveme nospaces" size="4" data-answer='["5.97"]'></p></li>
<li><p>Mean <code>estimate2</code> (read condition) = <input class="webex-solveme nospaces" size="4" data-answer='["4.07"]'></p></li>
<li><p>t(<input class="webex-solveme nospaces" size="5" data-answer='["33.80","33.8"]'>) = <input class="webex-solveme nospaces" size="4" data-answer='["2.82"]'>, p = <input class="webex-solveme nospaces" size="5" data-answer='["0.024",".024"]'></p></li>
</ul>
</li>
<li><p>According to Cohen's (1988) guidelines, the effect sizes for all three tests are <select class="webex-select"><option value="blank"></option>
<option value="">Small</option>
<option value="">Medium</option>
<option value="answer">Large</option></select></p></li>
</ul>
</div>
<div id="ttest-a10" class="section level2" number="10.10">
<h2>
<span class="header-section-number">10.10</span> Activity 10: Write-up<a class="anchor" aria-label="anchor" href="#ttest-a10"><i class="fas fa-link"></i></a>
</h2>
<p>Copy and paste the below <strong>exactly</strong> into <strong>white space</strong> in your R Markdown document and then knit the file to replicate the results section in the paper (p.887).</p>
<ul>
<li>Note that we haven't replicated the analysis exactly - the authors of this paper conducted Student's t-test whilst we have conducted Welch tests and we've also applied a multiple comparison correction. Look back at the paper and see what differences this makes.</li>
</ul>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="t-tests.html#cb187-1" aria-hidden="true" tabindex="-1"></a>The pattern of evaluations by professional recruiters replicated the pattern observed <span class="cf">in</span> Experiments <span class="dv">1</span> through 3b (see Fig. <span class="dv">7</span>). Bonferroni<span class="sc">-</span>corrected t<span class="sc">-</span>tests found that <span class="cf">in</span> particular, the recruiters believed that the job candidates had greater intellect<span class="sc">---</span>were more competent, thoughtful, and intelligent<span class="sc">---</span>when they listened to <span class="fu">pitches</span> (<span class="at">M =</span> <span class="st">`</span><span class="at">r results_intellect$estimate1%&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r round(group_means$sd[3], 2)</span><span class="st">`</span>) than when they read <span class="fu">pitches</span> (<span class="at">M =</span> <span class="st">`</span><span class="at">r results_intellect$estimate1%&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r round(group_means$sd[6], 2)</span><span class="st">`</span>), <span class="fu">t</span>(<span class="st">`</span><span class="at">r round(results_intellect$parameter, 2)</span><span class="st">`</span>) <span class="ot">=</span> <span class="st">`</span><span class="at">r round(results$statistic,2)</span><span class="st">`</span>, p <span class="sc">&lt;</span> <span class="st">`</span><span class="at">r results$p.adjusted[3] %&gt;% round(3)</span><span class="st">`</span>, <span class="dv">95</span>% CI of the difference <span class="ot">=</span> [<span class="st">`</span><span class="at">r round(results_intellect$conf.low, 2)</span><span class="st">`</span>, <span class="st">`</span><span class="at">r round(results_intellect$conf.high, 2)</span><span class="st">`</span>], d <span class="ot">=</span> <span class="st">`</span><span class="at">r round(intellect_d$Cohens_d,2)</span><span class="st">`</span>. </span>
<span id="cb187-2"><a href="t-tests.html#cb187-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-3"><a href="t-tests.html#cb187-3" aria-hidden="true" tabindex="-1"></a>The recruiters also formed more positive impressions of the candidates<span class="sc">---</span>rated them as more likeable and had a more positive and less negative impression of them<span class="sc">---</span>when they listened to <span class="fu">pitches</span> (<span class="at">M =</span> <span class="st">`</span><span class="at">r results_impression$estimate1%&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r round(group_means$sd[2], 2)</span><span class="st">`</span>) than when they read <span class="fu">pitches</span> (<span class="at">M =</span> <span class="st">`</span><span class="at">r results_impression$estimate2%&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r round(group_means$sd[5], 2)</span><span class="st">`</span>, <span class="fu">t</span>(<span class="st">`</span><span class="at">r round(results_impression$parameter,2)</span><span class="st">`</span>) <span class="ot">=</span> <span class="st">`</span><span class="at">r round(results_impression$statistic,2)</span><span class="st">`</span>, p <span class="sc">&lt;</span> <span class="st">`</span><span class="at">r results$p.adjusted[2] %&gt;% round(3)</span><span class="st">`</span>, <span class="dv">95</span>% CI of the <span class="at">difference =</span> [<span class="st">`</span><span class="at">r round(results_impression$conf.low, 2)</span><span class="st">`</span>, <span class="st">`</span><span class="at">r round(results_impression$conf.high, 2)</span><span class="st">`</span>], <span class="at">d =</span> <span class="st">`</span><span class="at">r round(impression_dintellect_d$Cohens_d, 2)</span><span class="st">`</span>. </span>
<span id="cb187-4"><a href="t-tests.html#cb187-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-5"><a href="t-tests.html#cb187-5" aria-hidden="true" tabindex="-1"></a>Finally, they also reported being more likely to hire the candidates when they listened to <span class="fu">pitches</span> (<span class="at">M =</span> <span class="st">`</span><span class="at">r results_hire$estimate1 %&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r round(group_means$sd[1], 2)</span><span class="st">`</span>) than when they read the same <span class="fu">pitches</span> (<span class="at">M =</span> <span class="st">`</span><span class="at">r results_hire$estimate2 %&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r round(group_means$sd[4],2)</span><span class="st">`</span>), <span class="fu">t</span>(<span class="st">`</span><span class="at">r round(results_hire$parameter,2)</span><span class="st">`</span>) <span class="ot">=</span> <span class="st">`</span><span class="at">r round(results_hire$statistic,2)</span><span class="st">`</span>, p <span class="sc">&lt;</span> <span class="st">`</span><span class="at">r results$p.adjusted[1] %&gt;% round(3)</span><span class="st">`</span>, <span class="dv">95</span>% CI of the <span class="at">difference =</span> [<span class="st">`</span><span class="at">r round(results_hire$conf.low, 2)</span><span class="st">`</span>, <span class="st">`</span><span class="at">r round(results_hire$conf.high, 2)</span><span class="st">`</span>], <span class="at">d =</span> <span class="st">`</span><span class="at">r round(hire_dintellect_d$Cohens_d,2)</span><span class="st">`</span>.</span></code></pre></div>
<blockquote>
The pattern of evaluations by professional recruiters replicated the pattern observed in Experiments 1 through 3b (see Fig. 7). Bonferroni-corrected t-tests found that in particular, the recruiters believed that the job candidates had greater intellect---were more competent, thoughtful, and intelligent---when they listened to pitches (M = 5.64, SD = 1.61) than when they read pitches (M = 5.64, SD = 1.91), t(33.43) = 2.64, 2.82, 3.48, p &lt; 0.004, 95% CI of the difference = [0.83, 3.15], d =
<div class="kable-table">


<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">Cohens_d</th>
<th align="right">CI</th>
<th align="right">CI_low</th>
<th align="right">CI_high</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">1.12</td>
<td align="right">0.95</td>
<td align="right">0.43</td>
<td align="right">1.81</td>
</tr></tbody>
</table></div>
</div>
<p>.</p>
<blockquote>
The recruiters also formed more positive impressions of the candidates---rated them as more likeable and had a more positive and less negative impression of them---when they listened to pitches (M = 5.97, SD = 1.92) than when they read pitches (M = 4.07, SD = 2.23, t(33.8) = 2.82, p &lt; 0.024, 95% CI of the difference = [0.53, 3.26], d =
<div class="kable-table">


<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">Cohens_d</th>
<th align="right">CI</th>
<th align="right">CI_low</th>
<th align="right">CI_high</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.91</td>
<td align="right">0.95</td>
<td align="right">0.24</td>
<td align="right">1.57</td>
</tr></tbody>
</table></div>
</div>
<p>.</p>
<blockquote>
Finally, they also reported being more likely to hire the candidates when they listened to pitches (M = 4.71, SD = 2.26) than when they read the same pitches (M = 2.89, SD = 2.05), t(36.86) = 2.64, p &lt; 0.036, 95% CI of the difference = [0.42, 3.23], d =
<div class="kable-table">


<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th align="right">Cohens_d</th>
<th align="right">CI</th>
<th align="right">CI_low</th>
<th align="right">CI_high</th>
</tr></thead>
<tbody><tr class="odd">
<td align="right">0.84</td>
<td align="right">0.95</td>
<td align="right">0.18</td>
<td align="right">1.5</td>
</tr></tbody>
</table></div>
</div>
<p>.</p>
<p>Just like with correlations, you can also used the <code><a href="https://easystats.github.io/report/reference/report.html">report()</a></code> function to produce a report of the individual t-tests. Again, the output it produces is fixed and it must be used with the original list type object, rather than the tidied output. Additionally, <code><a href="https://easystats.github.io/report/reference/report.html">report()</a></code> only takes one t-test at a time, which means that you can't use the adjusted p-values, but it's a useful function to know about.</p>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://easystats.github.io/report/reference/report.html">report</a></span><span class="op">(</span><span class="va">intellect_t</span><span class="op">)</span></code></pre></div>
<pre><code>## 'interpret_d()' is now deprecated. Please use 'interpret_cohens_d()'.</code></pre>
<pre><code>## Effect sizes were labelled following Cohen's (1988) recommendations.
## 
## The Welch Two Sample t-test testing the difference of Rating by condition (mean in group listened = 5.63, mean in group read = 3.65) suggests that the effect is positive, statistically significant, and large (difference = 1.99, 95% CI [0.83, 3.15], t(33.43) = 3.48, p = 0.001; Cohen's d = 1.20, 95% CI [0.46, 1.93])</code></pre>
</blockquote>
</blockquote>
</blockquote>
</div>
<div id="ttest-a11" class="section level2" number="10.11">
<h2>
<span class="header-section-number">10.11</span> Activity 11: Paired-samples t-test<a class="anchor" aria-label="anchor" href="#ttest-a11"><i class="fas fa-link"></i></a>
</h2>
<p>For the final activity we will run a paired-samples t-test for a within-subject design but we will do this much quicker than for the Welch test and just point out the differences in the code.</p>
<p>For this example we will again draw from the <a href="https://sites.trinity.edu/osl/data-sets-and-activities/t-test-activities">Open Stats Lab</a> and look at data from the following paper:</p>
<p><a href="https://journals.sagepub.com/stoken/default+domain/d5HcBHg85XamSXGdYqYN/full">Mehr, S. A., Song. L. A., &amp; Spelke, E. S. (2016). For 5-month-old infants, melodies are social. Psychological Science, 27, 486-501.</a></p>
<p>Parents often sing to their children and, even as infants, children listen to and look at their parents while they are singing. Research by Mehr, Song, and Spelke (2016) sought to explore the psychological function that music has for parents and infants, by examining the hypothesis that particular melodies convey
important social information to infants. Specifically, melodies convey information about social affiliation.</p>
<p>The authors argue that melodies are shared within social groups. Whereas children growing up in one culture may be exposed to certain songs as infants (e.g., “Rock-a-bye Baby”), children growing up in other cultures (or even other groups within a culture) may be exposed to different songs. Thus, when a novel person (someone who the infant has never seen before) sings a familiar song, it may signal to the infant that this new person is a member of their social group.</p>
<p>To test this hypothesis, the researchers recruited 32 infants and their parents to complete an experiment. During their first visit to the lab, the parents were taught a new lullaby (one that neither they nor their infants had heard before). The experimenters asked the parents to sing the new lullaby to their child every day for the next 1-2 weeks. Following this 1-2 week exposure period, the parents and their infant returned to the lab to complete the experimental portion of the study. Infants were first shown a screen with side-by-side videos of two unfamiliar people, each of whom were silently smiling and looking at the infant. The researchers recorded the looking behaviour (or gaze) of the infants during this ‘baseline’ phase. Next, one by one, the two unfamiliar people on the screen sang either the lullaby that the parents learned or a different lullaby (that had the same lyrics and rhythm, but a different melody). Finally, the infants saw the same silent video used at baseline, and the researchers again recorded the looking behaviour of the infants during this ‘test’ phase. For more details on the experiment’s methods, please refer to Mehr et al. (2016) Experiment 1.</p>
<ul>
<li>First, download <a href="Mehr%20Song%20and%20Spelke%202016%20Experiment%201.csv" download>Mehr Song and Spelke 2016 Experiment 1.csv</a> and run the below code to load and wrangle the data into the format we need - this code selects only the data we need for the analysis and renames variables to make them easier to work with.</li>
</ul>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"Mehr Song and Spelke 2016 Experiment 1.csv"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">exp1</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">Baseline_Proportion_Gaze_to_Singer</span>,<span class="va">Test_Proportion_Gaze_to_Singer</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>baseline <span class="op">=</span> <span class="va">Baseline_Proportion_Gaze_to_Singer</span>,
         test <span class="op">=</span> <span class="va">Test_Proportion_Gaze_to_Singer</span><span class="op">)</span></code></pre></div>
</div>
<div id="ttest-a12" class="section level2" number="10.12">
<h2>
<span class="header-section-number">10.12</span> Activity 12: Assumptions<a class="anchor" aria-label="anchor" href="#ttest-a12"><i class="fas fa-link"></i></a>
</h2>
<p>The assumptions for the paired-samples t-test are a little different (although very similar) to the independent t-test.</p>
<ol style="list-style-type: decimal">
<li>The dependent variable must be continuous (interval/ratio).<br>
</li>
<li>All participants should appear in both conditions/groups.</li>
<li>The difference scores should be normally distributed.</li>
</ol>
<p>Aside from the data being paired rather than independent, the key difference is that for the paired-samples test, the assumption of normality if that the differences between each pair of scores are normally distributed, rather than the scores themselves.</p>
<ul>
<li>Run the below code to calculate the difference scores and then conduct the Shapriro-Wilk and QQ-plot as with the independent test.</li>
</ul>
<div class="sourceCode" id="cb192"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gaze</span> <span class="op">&lt;-</span> <span class="va">gaze</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>diff <span class="op">=</span> <span class="va">baseline</span> <span class="op">-</span> <span class="va">test</span><span class="op">)</span></code></pre></div>
<p>As you can see, from both the Shapiro-Wilk test and the QQ-plot, the data meet the assumption of normality so we can proceed.</p>
</div>
<div id="ttest-a13" class="section level2" number="10.13">
<h2>
<span class="header-section-number">10.13</span> Activity 13: Descriptives and visualisations<a class="anchor" aria-label="anchor" href="#ttest-a13"><i class="fas fa-link"></i></a>
</h2>
<p>It made sense to keep the data in wide-form until this point to make it easy to calculate a column for the difference score, but now we will transform it to tidy data so that we can easily create descriptives and plot the data using <code>tidyverse</code> tools.</p>
<ul>
<li>Run the below code to tidy the data and then create the same violin-boxplot as you did for the independent t-test (hint: it is perfectly acceptable to copy and paste the code from Activity 4 and change the data and variable names).</li>
</ul>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gaze_tidy</span> <span class="op">&lt;-</span> <span class="va">gaze</span> <span class="op">%&gt;%</span>
  <span class="fu">pivot_longer</span><span class="op">(</span>names_to <span class="op">=</span> <span class="st">"time"</span>, values_to <span class="op">=</span> <span class="st">"looking"</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">baseline</span>, <span class="va">test</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">diff</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">time</span>, <span class="va">id</span><span class="op">)</span></code></pre></div>
</div>
<div id="ttest-a14" class="section level2" number="10.14">
<h2>
<span class="header-section-number">10.14</span> Activity 14: Paired-samples t-test<a class="anchor" aria-label="anchor" href="#ttest-a14"><i class="fas fa-link"></i></a>
</h2>
<p>Finally, we can calculate the t-test and the effect size. The code is almost identical to the independent code with two differences:</p>
<ol style="list-style-type: decimal">
<li>In <code><a href="https://rdrr.io/r/stats/t.test.html">t.test()</a></code> you should specify <code>paired = TRUE</code> rather than <code>FALSE</code>
</li>
<li>In <code><a href="https://easystats.github.io/effectsize/reference/cohens_d.html">cohens_d()</a></code> you should specify <code>method = paired</code> rather than <code>pooled_sd</code>
</li>
</ol>
<ul>
<li>Run the t-test and calculate the effect size. Store the list output version in <code>gaze_t</code> and then use <code><a href="https://generics.r-lib.org/reference/tidy.html">tidy()</a></code> for <code>gaze_test</code>.</li>
</ul>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="t-tests.html#cb194-1" aria-hidden="true" tabindex="-1"></a>gaze_t <span class="ot">&lt;-</span> </span>
<span id="cb194-2"><a href="t-tests.html#cb194-2" aria-hidden="true" tabindex="-1"></a>gaze_test <span class="ot">&lt;-</span> </span>
<span id="cb194-3"><a href="t-tests.html#cb194-3" aria-hidden="true" tabindex="-1"></a>gaze_d <span class="ot">&lt;-</span> </span></code></pre></div>
<p>The output of the paired-samples t-test is very similar to the independent test, with one exception. Rather than providing the means of both conditions, there is a single <code>estimate</code>. This is the mean <em>difference</em> score between the two conditions.</p>
<ul>
<li>
<p>Enter the mean estimates and t-test results (means and t-value to 2 decimal places, p-value to 3 decimal places):</p>
<ul>
<li><p>Mean <code>estimate</code> = <input class="webex-solveme nospaces" size="5" data-answer='["-0.07"]'></p></li>
<li><p>t(<input class="webex-solveme nospaces" size="2" data-answer='["31"]'>) = <input class="webex-solveme nospaces" size="4" data-answer='["2.42"]'>, p = <input class="webex-solveme nospaces" size="5" data-answer='["0.022",".022"]'></p></li>
</ul>
</li>
</ul>
</div>
<div id="ttest-a15" class="section level2" number="10.15">
<h2>
<span class="header-section-number">10.15</span> Activity 15: Write-up<a class="anchor" aria-label="anchor" href="#ttest-a15"><i class="fas fa-link"></i></a>
</h2>
<p>Copy and paste the below <strong>exactly</strong> into <strong>white space</strong> in your R Markdown document and then knit the file to replicate the results section in the paper (p.489).</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="t-tests.html#cb195-1" aria-hidden="true" tabindex="-1"></a>At test, however, the infants selectively attended to the now<span class="sc">-</span>silent singer of the song with the familiar melody; the proportion of time during which they looked toward her was...greater than the proportion at <span class="fu">baseline</span> (difference <span class="cf">in</span> proportion of looking<span class="sc">:</span> <span class="at">M =</span> <span class="st">`</span><span class="at">r gaze_test$estimate %&gt;% round(2)</span><span class="st">`</span>, <span class="at">SD =</span> <span class="st">`</span><span class="at">r sd(gaze$diff, na.rm = TRUE) %&gt;% round(2)</span><span class="st">`</span>, <span class="dv">95</span><span class="sc">% CI = [`r gaze_test$conf.low %</span><span class="er">&gt;</span><span class="sc">% round(2)`, `r gaze_test$conf.high %</span><span class="er">&gt;</span><span class="sc">% round(2)`]), t(`r gaze_test$parameter`) = `r gaze_test$statistic %</span><span class="er">&gt;</span><span class="sc">% round(2)`, p = `r gaze_test$p.value %</span><span class="er">&gt;</span><span class="sc">% round(3)`, d = `r gaze_d$Cohens_d %</span><span class="er">&gt;</span>% <span class="fu">round</span>(<span class="dv">2</span>)<span class="st">`</span><span class="at">.</span></span></code></pre></div>
<blockquote>
<p>At test, however, the infants selectively attended to the now-silent singer of the song with the familiar melody; the proportion of time during which they looked toward her was...greater than the proportion at baseline (difference in proportion of looking: M = -0.07, SD = 0.17, 95% CI = [-0.13, -0.01]), t(31) = -2.42, p = 0.022, d = -0.41.</p>
</blockquote>
<p>Similarly, we can use <code><a href="https://easystats.github.io/report/reference/report.html">report()</a></code> on the original list object to produce an automated write-up.</p>
<div class="sourceCode" id="cb196"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://easystats.github.io/report/reference/report.html">report</a></span><span class="op">(</span><span class="va">gaze_t</span><span class="op">)</span></code></pre></div>
<pre><code>## 'interpret_d()' is now deprecated. Please use 'interpret_cohens_d()'.</code></pre>
<pre><code>## Effect sizes were labelled following Cohen's (1988) recommendations.
## 
## The Paired t-test testing the difference of looking by time (mean of the differences = -0.07) suggests that the effect is negative, statistically significant, and small (difference = -0.07, 95% CI [-0.13, -0.01], t(31) = -2.42, p = 0.022; Cohen's d = -0.43, 95% CI [-0.80, -0.06])</code></pre>
<div id="ttest-fin" class="section level3" number="10.15.1">
<h3>
<span class="header-section-number">10.15.1</span> Finished!<a class="anchor" aria-label="anchor" href="#ttest-fin"><i class="fas fa-link"></i></a>
</h3>
<p>That was a long chapter but now that you've done all the statistical tests you need to complete your quantitative project - hopefully you will see that it really is true that the hardest part is the set-up and the data wrangling. As we've said before, you don't need to memorise lines of code - you just need to remember where to find examples and to understand which bits of them you need to change. Play around with the examples we have given you and see what changing the values does.</p>
</div>
</div>
<div id="ttest-sols" class="section level2" number="10.16">
<h2>
<span class="header-section-number">10.16</span> Activity solutions<a class="anchor" aria-label="anchor" href="#ttest-sols"><i class="fas fa-link"></i></a>
</h2>
<div id="ttest-a1sol" class="section level3" number="10.16.1">
<h3>
<span class="header-section-number">10.16.1</span> Activity 1<a class="anchor" aria-label="anchor" href="#ttest-a1sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 1
</button>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://broom.tidymodels.org/">"broom"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://r-forge.r-project.org/projects/car/">"car"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://easystats.github.io/effectsize/">"effectsize"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://easystats.github.io/report/">"report"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://tidyverse.tidyverse.org">"tidyverse"</a></span><span class="op">)</span>
<span class="va">evaluators</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"evaluators.csv"</span><span class="op">)</span></code></pre></div>
</div>
<p><strong>click the tab to see the solution</strong>
<br></p>
</div>
<div id="ttest-a2sol" class="section level3" number="10.16.2">
<h3>
<span class="header-section-number">10.16.2</span> Activity 2<a class="anchor" aria-label="anchor" href="#ttest-a2sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 2
</button>
<div class="sourceCode" id="cb200"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">evaluators</span> <span class="op">&lt;-</span> <span class="va">evaluators</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>sex_labels <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html">recode</a></span><span class="op">(</span><span class="va">sex</span>, <span class="st">"1"</span> <span class="op">=</span> <span class="st">"male"</span>, <span class="st">"2"</span> <span class="op">=</span> <span class="st">"female"</span><span class="op">)</span>,
         sex_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">sex_labels</span><span class="op">)</span>,
         condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">condition</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">evaluators</span><span class="op">)</span></code></pre></div>
</div>
<p><strong>click the tab to see the solution</strong>
<br></p>
</div>
<div id="ttest-a6sol" class="section level3" number="10.16.3">
<h3>
<span class="header-section-number">10.16.3</span> Activity 6<a class="anchor" aria-label="anchor" href="#ttest-a6sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 6
</button>
<div class="sourceCode" id="cb201"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">intellect</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ratings2</span>, <span class="va">Category</span> <span class="op">==</span> <span class="st">"intellect"</span><span class="op">)</span>
<span class="va">hire</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ratings2</span>, <span class="va">Category</span> <span class="op">==</span> <span class="st">"hire"</span><span class="op">)</span>
<span class="va">impression</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ratings2</span>, <span class="va">Category</span> <span class="op">==</span> <span class="st">"impression"</span><span class="op">)</span></code></pre></div>
</div>
<p><strong>click the tab to see the solution</strong>
<br></p>
</div>
<div id="ttest-a8sol" class="section level3" number="10.16.4">
<h3>
<span class="header-section-number">10.16.4</span> Activity 8<a class="anchor" aria-label="anchor" href="#ttest-a8sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 7
</button>
<div class="sourceCode" id="cb202"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">intellect_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/effectsize/reference/cohens_d.html">cohens_d</a></span><span class="op">(</span><span class="va">Rating</span> <span class="op">~</span> <span class="va">condition</span>, 
                      pooled_sd <span class="op">=</span> <span class="cn">FALSE</span>, 
                      data <span class="op">=</span> <span class="va">intellect</span><span class="op">)</span>
<span class="va">hire_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/effectsize/reference/cohens_d.html">cohens_d</a></span><span class="op">(</span><span class="va">Rating</span> <span class="op">~</span> <span class="va">condition</span>, 
                      pooled_sd <span class="op">=</span> <span class="cn">FALSE</span>, 
                      data <span class="op">=</span> <span class="va">hire</span><span class="op">)</span>
<span class="va">impression_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/effectsize/reference/cohens_d.html">cohens_d</a></span><span class="op">(</span><span class="va">Rating</span> <span class="op">~</span> <span class="va">condition</span>, 
                      pooled_sd <span class="op">=</span> <span class="cn">FALSE</span>, 
                      data <span class="op">=</span> <span class="va">impression</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="ttest-a12sol" class="section level3" number="10.16.5">
<h3>
<span class="header-section-number">10.16.5</span> Activity 12<a class="anchor" aria-label="anchor" href="#ttest-a12sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 12
</button>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/shapiro.test.html">shapiro.test</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gaze</span><span class="op">$</span><span class="va">diff</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/car/man/qqPlot.html">qqPlot</a></span><span class="op">(</span><span class="va">gaze</span><span class="op">$</span><span class="va">diff</span><span class="op">)</span></code></pre></div>
</div>
<p><strong>click the tab to see the solution</strong>
<br></p>
</div>
<div id="ttest-a13sol" class="section level3" number="10.16.6">
<h3>
<span class="header-section-number">10.16.6</span> Activity 13<a class="anchor" aria-label="anchor" href="#ttest-a13sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 13
</button>
<div class="sourceCode" id="cb204"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">gaze_tidy</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">time</span>, y <span class="op">=</span> <span class="va">looking</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_violin</span><span class="op">(</span>trim <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">time</span><span class="op">)</span>, width <span class="op">=</span> <span class="fl">.2</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">stat_summary</span><span class="op">(</span>geom <span class="op">=</span> <span class="st">"pointrange"</span>, fun.data <span class="op">=</span> <span class="st">"mean_cl_normal"</span><span class="op">)</span></code></pre></div>
</div>
<p><strong>click the tab to see the solution</strong>
<br></p>
</div>
<div id="ttest-a14sol" class="section level3" number="10.16.7">
<h3>
<span class="header-section-number">10.16.7</span> Activity 14<a class="anchor" aria-label="anchor" href="#ttest-a14sol"><i class="fas fa-link"></i></a>
</h3>
<div class="webex-solution">
<button>
Activity 14
</button>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">gaze_t</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">looking</span> <span class="op">~</span> <span class="va">time</span>, paired <span class="op">=</span> <span class="cn">TRUE</span>, data <span class="op">=</span> <span class="va">gaze_tidy</span><span class="op">)</span>
<span class="va">gaze_test</span> <span class="op">&lt;-</span>  <span class="va">gaze_t</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">gaze_d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://easystats.github.io/effectsize/reference/cohens_d.html">cohens_d</a></span><span class="op">(</span><span class="va">looking</span> <span class="op">~</span> <span class="va">time</span>, method <span class="op">=</span> <span class="st">"paired"</span>, data <span class="op">=</span> <span class="va">gaze_tidy</span><span class="op">)</span></code></pre></div>
</div>
<p><strong>click the tab to see the solution</strong>
<br></p>

</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );
  
  // open rdrr links externally
  $("a[href^='https://rdrr.io']").click(function(){
    window.open(this.href);
    return false;
  });
  
  // visible second sidebar in mobile
  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
});
</script><div class="chapter-nav">
<div class="prev"><a href="correlations.html"><span class="header-section-number">9</span> Correlations</a></div>
<div class="next"><a href="power-and-error.html"><span class="header-section-number">11</span> Power and error</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#t-tests"><span class="header-section-number">10</span> t-tests</a></li>
<li><a class="nav-link" href="#ttest-a1"><span class="header-section-number">10.1</span> Activity 1: Set-up</a></li>
<li><a class="nav-link" href="#ttest-a2"><span class="header-section-number">10.2</span> Activity 2: Explore the dataset</a></li>
<li><a class="nav-link" href="#ttest-a3"><span class="header-section-number">10.3</span> Activity 3: Ratings</a></li>
<li><a class="nav-link" href="#ttest-a4"><span class="header-section-number">10.4</span> Activity 4: Visualisation</a></li>
<li><a class="nav-link" href="#ttest-a5"><span class="header-section-number">10.5</span> Activity 5: Assumptions</a></li>
<li><a class="nav-link" href="#ttest-a6"><span class="header-section-number">10.6</span> Activity 6: Running the t-test</a></li>
<li><a class="nav-link" href="#ttest-a7"><span class="header-section-number">10.7</span> Activity 7: Correcting for multiple comparisons</a></li>
<li><a class="nav-link" href="#ttest-a8"><span class="header-section-number">10.8</span> Activity 8: Effect size</a></li>
<li><a class="nav-link" href="#ttest-a9"><span class="header-section-number">10.9</span> Activity 9: Interpreting the results</a></li>
<li><a class="nav-link" href="#ttest-a10"><span class="header-section-number">10.10</span> Activity 10: Write-up</a></li>
<li><a class="nav-link" href="#ttest-a11"><span class="header-section-number">10.11</span> Activity 11: Paired-samples t-test</a></li>
<li><a class="nav-link" href="#ttest-a12"><span class="header-section-number">10.12</span> Activity 12: Assumptions</a></li>
<li><a class="nav-link" href="#ttest-a13"><span class="header-section-number">10.13</span> Activity 13: Descriptives and visualisations</a></li>
<li><a class="nav-link" href="#ttest-a14"><span class="header-section-number">10.14</span> Activity 14: Paired-samples t-test</a></li>
<li>
<a class="nav-link" href="#ttest-a15"><span class="header-section-number">10.15</span> Activity 15: Write-up</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#ttest-fin"><span class="header-section-number">10.15.1</span> Finished!</a></li></ul>
</li>
<li>
<a class="nav-link" href="#ttest-sols"><span class="header-section-number">10.16</span> Activity solutions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#ttest-a1sol"><span class="header-section-number">10.16.1</span> Activity 1</a></li>
<li><a class="nav-link" href="#ttest-a2sol"><span class="header-section-number">10.16.2</span> Activity 2</a></li>
<li><a class="nav-link" href="#ttest-a6sol"><span class="header-section-number">10.16.3</span> Activity 6</a></li>
<li><a class="nav-link" href="#ttest-a8sol"><span class="header-section-number">10.16.4</span> Activity 8</a></li>
<li><a class="nav-link" href="#ttest-a12sol"><span class="header-section-number">10.16.5</span> Activity 12</a></li>
<li><a class="nav-link" href="#ttest-a13sol"><span class="header-section-number">10.16.6</span> Activity 13</a></li>
<li><a class="nav-link" href="#ttest-a14sol"><span class="header-section-number">10.16.7</span> Activity 14</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/PsyTeachR/quant-fun-v2/blob/master/book/10-t-tests.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/PsyTeachR/quant-fun-v2/edit/master/book/10-t-tests.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Fundamentals of Quantitative Analysis</strong>" was written by Emily Nordmann &amp; Phil McAleer. It was last built on 2021-10-27.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
